---
title : 随机森林-RandomForests
---

## 信息熵-熵的计算

* 信息熵：常被用来作为一个系统的信息含量的量化指标，从而可以进一步用来作为系统方程优化的目标或者参数选择的判据,
         可以作为一个系统复杂程度的度量，如果系统越复杂，出现不同情况的种类越多，那么他的信息熵是比较大的。

![熵公式](随机森林-RandomForests/entropy.png)

* 信息熵的三个性质
  * 单调性，即发生概率越高的事件，其所携带的信息熵越低
  * 非负性，即信息熵不能为负
  * 累加性，即多随机事件同时发生存在的总不确定性的量度是可以表示为各事件不确定性的量度的和

可以发现,上述的公式中计算是相当与 将所有的期望值相加了。

设想：在一个封闭系统的盒子中，其中有各种的信息源，这些信息源间，可能相互关联，或彼此独立。现在从这个盒子外部看接受信息。

     对于单调性 ： 如果 盒子中只有一个数据源，每次都可以确定信息，这样对应的必然事件，对应的概率是1，对于熵值为0 。

     累加性：如果盒子中有很多数据源，两个独立数据源发生时的概率：P(A)*P(B) ；两个关联事件发生的条件概率为 P(A|B) = P(A∩B)/P(B)
            可以发现需要间概率计算中的乘除转为为可以进行累加，所以使用对数进行处理，这样可以将概率计算中的乘除化解为加减。
      
结合概率统计中概率计算      
[概率计算及相关]{https://blue-shadow.top/2019/02/06/4%E6%A6%82%E7%8E%87%E8%AE%A1%E7%AE%97/}

## 决策树-Decision Tree

**由于随机森林是由很多的决策树构成的，所以在使用随机森林模型前，先了解决策树中的构建过程，有助于对随机森林的学习**

* 使用如下测试表中的数据来说明：

|年龄段	|是否购车	|是否购房	|薪资水平	|贷款额度|
|-----|-----|-----|-----|-----|
|中年	|是	|是	|高	|高|
|少年	|是	|是	|中等|高|
|青年	|是	|是	|中等|低|
|中年	|否	|是	|高	|高|
|青年	|是	|是	|高	|低|
|少年	|否	|是	|低	|高|
|少年	|否	|否	|低	|低|
|中年	|否	|否	|低	|高|
|少年	|否	|是	|中等|高|
|青年	|否	|是	|低	|高|
|青年	|是	|否	|高	|低|
|少年	|是	|否	|中等|低|
|青年	|否	|否	|中等|高|
|中年	|是	|否	|中等|高|

* 对于决策树的计算中，需要使用到熵

为了能够计算目标变量-贷款额度，需要计算每类的概率，然后使用熵公式进行计算。

~~~
高贷款额度概率 : 9/14 = 0.64
低贷款额度概率 ：5/14 = 0.36

所以 熵值为 ： E(贷款额度) = - P(高贷款额度) * log(2)(P(高贷款额度))  - P(低贷款额度) * log(2)(P(低贷款额度))  
                = -( 0.64 * log(2)(0.64)) - (0.36 * log(2)(0.36))
                = -( 0.64 * -0.643856 ) - (0.36 * -1.473931)
                = 0.41206784 + 0.53061516
                = 0.94
~~~

用同样的方式，计算各个特征的熵值： E(年龄) = 0.69 ; E(购车) = 0.79 ; E(购房) = 0.89 ; E(薪资) = 0.91 

* 信息增益

在信息增益中，衡量标准是看特征能够为分类系统带来多少信息，带来的信息越多，该特征越重要。对一个特征而言，系统有它和没它时信息量将发生变化，而前后信息量的差值就是这个特征给系统带来的信息量。所谓信息量，就是熵